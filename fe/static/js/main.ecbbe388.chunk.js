(window["webpackJsonpmission-control"]=window["webpackJsonpmission-control"]||[]).push([[0],{106:function(e,a,t){e.exports=t.p+"static/media/white-logo.fcac99b0.png"},120:function(e,a,t){e.exports=t(154)},125:function(e,a,t){},146:function(e,a,t){},154:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(26),r=t.n(l),m=(t(125),t(50)),o=t(11),i=t(107),s=t(52),u=t.n(s),d=t(186),g=t(188),p=t(175);let h=localStorage.base||"0.0.0.0",E="https://".concat(h);const b=Object(i.a)(E,{secure:!0}),y=function(){b.emit(...arguments)};async function f(){const{data:e}=await u.a.get("".concat(E,"/launches"));return e.map(e=>{const a=new Date;let t=new Date(e);return t=a.getTime()-t.getTime()>1728e5?Object(d.a)(t,"MMM do yyyy h:mmb"):Object(g.a)(t,a),{filename:e,display:t,date:new Date(e)}}).sort((e,a)=>Object(p.a)(e.date,a.date))}function v(e,a){return e.reduce((e,t)=>Math.abs(t.timestamp-a)<Math.abs(e.timestamp-a)?t:e)}function x(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];Object(n.useEffect)(()=>(b.on(...a),()=>b.off(...a)),[a])}b.on("connect",()=>console.log("connected")),b.on("disconnect",()=>console.log("disconnected")),b.on("strategy-log",console.log);var j=t(65),O=t(185),w=t(187),k=t(192),S=t(202),D=t(177),C=(t(146),t(184));function P(e){let{className:a,axis:t,translate:l=[0,0]}=e;const r=Object(n.useRef)(null);return Object(n.useEffect)(()=>{Object(C.a)(r.current).call(t)},[r,t]),c.a.createElement(c.a.Fragment,null,c.a.createElement("g",{className:a,ref:r,transform:"translate(".concat(l.join(","),")")}))}var N=t(193),A=t(199),L=t(80),M=t.n(L),R=20.5,F=30,z=30,I=40.5,T=500-R-z;function J(e){let{altitude:a=[],events:t,strategyData:l}=e;const[r,m]=Object(n.useState)(!0),[o,i]=Object(n.useState)(!1),{innerWidth:s}=M()(),u=s-I-F;var d=Object(O.a)().range([0,u]),g=Object(w.a)().range([T,0]);const p=Object(j.a)(d),h=Object(j.b)(g),E=Object(k.a)().curve(S.a).x(e=>d(e.timestamp)).y(e=>g(e.altitude));return d.domain(Object(D.a)(a,e=>e.timestamp)),g.domain(Object(D.a)(a,e=>e.altitude).map((e,a)=>!!e&&(0===a?e-5:e+5))),c.a.createElement("div",null,c.a.createElement("svg",{width:u+I+F,height:T+R+z},c.a.createElement("g",{transform:"translate(".concat(I,", ").concat(R,")")},c.a.createElement(P,{className:"x axis",axis:p,translate:[0,T]}),c.a.createElement(P,{className:"y axis",axis:h}),c.a.createElement("path",{className:"line",d:E(a)}),r&&t&&t.map(e=>c.a.createElement("g",{class:"event",transform:"translate(".concat(d(e.timestamp),",").concat(g(e.altitude),")")},c.a.createElement("circle",{cx:"-2.5",cy:"2.5",r:"5"}),c.a.createElement("text",{x:"-20",y:"20"},e.event))),o&&l&&l.map((e,a)=>c.a.createElement("g",{class:"event",transform:"translate(".concat(d(e.timestamp),",").concat(g(e.altitude),")")},c.a.createElement("circle",{cx:"-2.5",cy:"2.5",r:"5"}),c.a.createElement("text",{x:"-20",y:14*-(a+1)},e.payload))))),l&&c.a.createElement(N.a,{pad:"xsmall"},c.a.createElement(A.a,{checked:o,label:"Show Strategy Data",onChange:e=>i(e.target.checked)})),t&&c.a.createElement(N.a,{pad:"xsmall"},c.a.createElement(A.a,{checked:r,label:"Show Launch and Parachute",onChange:e=>m(e.target.checked)})))}var B=function(){const[e,a]=Object(n.useState)([]);return x("rocket-data",e=>{const t=function(e){return!!e.altitude&&{timestamp:new Date(1e3*e.timestamp),altitude:e.altitude}}(e);a(e=>{const a=[...e,t];return a.length>800?a.slice(Math.max(a.length-800,1)):a})}),c.a.createElement(N.a,{margin:"medium"},c.a.createElement("h1",null,"Altitude Graph"),c.a.createElement(N.a,{style:{display:"flex",flexDirection:"row"}},c.a.createElement(J,{style:{flex:1},altitude:e})))};var G=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Other"))},K=t(198),U=t(190),W=t(196);var Y=function(){const[e,a]=Object(n.useState)([]);Object(n.useEffect)(()=>{f().then(a)},[]);const t=async e=>{await async function(e){return await u.a.delete("".concat(E,"/launch/").concat(e)),!0}(e),f().then(a)};return x("launch-recorded",()=>{f().then(a)}),c.a.createElement("div",null,c.a.createElement(K.a,{level:"2",margin:"medium"},"Launches"),c.a.createElement("ul",null,e.length?e.map(e=>c.a.createElement("li",{key:e},c.a.createElement(m.b,{to:"/launch/".concat(e.filename)},e.display),c.a.createElement(U.a,{onClick:()=>t(e.filename)},c.a.createElement(W.a,null)))):"No Launches yet."))};function q(e){let{match:a}=e;const{params:{filename:t}}=a,[l,r]=Object(n.useState)();Object(n.useEffect)(()=>{(async function(e){const{data:{altitudeData:a,events:t,strategyData:n}}=await u.a.get("".concat(E,"/launch/").concat(e)),c=t.map(e=>{const{altitude:t}=v(a,e.timestamp);return{...e,altitude:t}}),l=n.map(e=>{const{altitude:t}=v(a,e.timestamp);return{...e,altitude:t}});return{altitude:a,events:c,strategyData:l}})(t).then(r).catch(console.error)},[t]);return c.a.createElement("div",null,c.a.createElement(N.a,{direction:"row",justify:"between",pad:"small",align:"center"},c.a.createElement(K.a,{level:"3",margin:"none"},"Launch ",t),c.a.createElement(K.a,{level:"4",margin:"none"},"Max Altitude: ",(e=>{if(!e)return 0;const a=e.altitude.reduce((e,a)=>{let{altitude:t}=a;return Math.max(e,t)},0);return parseInt(a-e.events[0].altitude,10)})(l),"ft")),l&&c.a.createElement(J,{altitude:l.altitude,events:l.events,strategyData:l.strategyData}))}var H=t(191),Q=t(197);function V(){const[e,a]=Object(n.useState)(),[t,l]=Object(n.useState)(),[r,m]=Object(n.useState)();return x("status",e=>{let{parachuteDeployed:t,parachuteArmed:n,isLaunched:c}=e;a(n),l(t),m(c)}),c.a.createElement(c.a.Fragment,null,c.a.createElement(K.a,{level:"3",margin:"medium"},"Actions"),c.a.createElement(N.a,{direction:"row",margin:"medium",align:"center",wrap:!0},e?c.a.createElement(U.a,{margin:"xsmall",label:"Disarm Parachute",color:"red",primary:!0,onClick:()=>y("disarm-parachute")}):c.a.createElement(U.a,{margin:"xsmall",label:"Arm Parachute & Start Camera",color:"green",primary:!0,onClick:()=>y("arm-parachute")}),t?c.a.createElement(U.a,{margin:"xsmall",label:"Reset Parachute",color:"red",primary:!0,onClick:()=>y("reset-parachute")}):c.a.createElement(U.a,{margin:"xsmall",label:"Deploy Parachute",color:"green",primary:!0,onClick:()=>y("deploy-parachute")}),r?c.a.createElement(U.a,{margin:"xsmall",label:"Abort launch",color:"red",primary:!0,onClick:()=>y("abort-launch")}):c.a.createElement(U.a,{margin:"xsmall",label:"\ud83d\ude80Launch",onClick:()=>y("launch")})))}var X=t(56);t(153);function Z(){const e=e=>{let{title:a,message:t,type:n="info"}=e;const c=X.b.TYPE[n.toUpperCase()];Object(X.b)(a,{type:c})};return x("launched",()=>{e({title:"Launched!",type:"success"})}),x("parachute-deployed",()=>{e({title:"Parachute Deployed!",type:"success"})}),x("parachute-armed",()=>{e({title:"Parachute Armed!",type:"info"})}),x("parachute-disarmed",()=>{e({title:"Parachute Disarmed!",type:"warning"})}),x("launch-recorded",()=>{e({title:"New Launch Recorded!",type:"info"})}),c.a.createElement(c.a.Fragment,null,c.a.createElement(X.a,null))}var $=t(189);function _(){const[e,a]=Object(n.useState)([]),[t,l]=Object(n.useState)([]);x("strategy-data",e=>{a(e),l(e.filter(e=>e.data.enabled))}),Object(n.useEffect)(()=>{y("get-strategy-data")},[]);return c.a.createElement(N.a,{margin:"medium"},c.a.createElement(K.a,{level:"3"},"Strategies"),c.a.createElement(N.a,{direction:"row"},c.a.createElement(N.a,{border:{color:"brand",size:"medium"},pad:"medium"},e.map(e=>c.a.createElement(N.a,{key:e.key,margin:"xsmall"},c.a.createElement(A.a,{checked:e.data.enabled,label:e.name,onChange:()=>(e=>{e.data.enabled?y("deactivate-strategy",e.key):y("activate-strategy",e.key)})(e)})))),c.a.createElement(N.a,{margin:{left:"medium"},border:{color:"brand",size:"medium"},pad:"medium"},t.map(e=>c.a.createElement(N.a,{key:e.key,margin:"xsmall"},c.a.createElement(K.a,{level:"4",margin:"none"},e.name),Object.keys(e.props).map(a=>{const t=e.props[a];return c.a.createElement(c.a.Fragment,null,"boolean"===t.type?c.a.createElement(A.a,{checked:!0,label:t.displayName||a}):c.a.createElement($.a,{label:t.displayName||a,margin:"none"},c.a.createElement(Q.a,{margin:"none",value:e.data.props[a]||t.default,onChange:n=>((e,a,t,n)=>{const c="boolean"===t?n.target.checked:n.target.value,l="number"===t?+c:c;y("update-strategy",{strategyKey:e.key,key:a,value:l})})(e,a,t.type,n)})))}))))))}var ee=t(106),ae=t.n(ee);const te=e=>c.a.createElement(N.a,Object.assign({tag:"header",direction:"row",align:"center",background:"brand",pad:{left:"medium",right:"small",vertical:"small"},elevation:"medium",style:{zIndex:"1"}},e));var ne=function(){const[e,a]=Object(n.useState)(h),[t,l]=Object(n.useState)(!1);x("connect",()=>l(!0)),x("disconnect",()=>l(!1));let r={global:{colors:{green:"#43A047",red:"#F4511E"},font:{family:"Roboto",size:"14px",height:"20px"}}};return t||(r.global.colors={brand:"#666","accent-1":"#777","accent-2":"#777","accent-3":"#777","accent-4":"#777",green:"#777",red:"#777"}),c.a.createElement(H.a,{theme:r},c.a.createElement(Z,null),c.a.createElement(m.a,null,c.a.createElement(te,null,c.a.createElement(N.a,{direction:"row",align:"center"},c.a.createElement("img",{style:{height:60,width:70},src:ae.a,alt:"Node Rockets Logo"})),c.a.createElement(N.a,{margin:"medium"}),c.a.createElement(N.a,{alignSelf:"end",direction:"row",align:"center"},c.a.createElement(Q.a,{id:"base",placeholder:"IP of Pi",value:e,onChange:e=>{let{target:{value:t}}=e;var n;n=t,localStorage.base=n,h=n,a(t)}}),c.a.createElement(U.a,{primary:!0,margin:"small",onClick:()=>window.location.reload(),label:"Refresh!"}))),c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/",component:B}),c.a.createElement(o.a,{path:"/other",component:G}),c.a.createElement(o.a,{path:"/launches",component:Y}),c.a.createElement(o.a,{path:"/launch/:filename",component:q}),c.a.createElement(o.a,{path:"/strategies",exact:!0,component:_})),c.a.createElement(V,null)))};r.a.render(c.a.createElement(ne,null),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.ecbbe388.chunk.js.map